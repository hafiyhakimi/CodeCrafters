<!doctype html>
<html lang="en">

<head>
  <style>
    .content {
      max-width: 500px;
      margin: auto;
    }

    table {
      border: 4px solid black;
      margin: 0 auto;
      padding: 40px;
      width: fit-content;
    }

    .panel {
    margin-bottom: 30px;
    color: #696969;
    background-color: #fff;
    border-radius: 5px;
    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.08);
}
  </style>
</head>

<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
  integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

<!-- <h1 class="p-3 mb-2 bg-success text-white text-center">iGROW Knowledge Management System</h1> -->

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
  integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
  integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
  integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/js/bootstrap.min.js"
  integrity="sha384-a5N7Y/aK3qNeh15eJKGWxsqtnX/wWdSZSKp+81YjTmS15nvnvxKHuzaWwXHDli+4" crossorigin="anonymous"></script>



<div class="pos-f-t">
  <div class="collapse" id="navbarToggleExternalContent">
    <div class="p-4" style="background-color: #8FBC8F;">
      <h4 class="text-white">What are you looking for?</h4>
      <span class="text-muted">Search here...</span>
      <form class="form-inline my-2">
        <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
        <button class="btn btn-primary" type="submit">Search</button>
      </form>
    </div>
    
  </div>
  <nav class="navbar navbar-dark bg-success">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  </nav>
</div>

<nav class="navbar navbar-expand navbar-dark bg-success">
  <a class="navbar-brand" href="#">P  L  A  N  T  F  E  E  D</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <a class="nav-link " href="{% url 'Home' %}">Home</a>
      </li>
      {% if person.UserLevel == 'user' %}
      <li class="nav-item">
        <a class="nav-link" href="{% url 'sharing:MainSharing' %}">Sharing</a>
      </li>
      {% endif %}
      </li>
            <li class="nav-item">
        <a class="nav-link active" href=" {% url 'group:MainGroup' %}">Group</a>
      </li>
      {% if person.UserLevel == 'user' %}
      <li class="nav-item">
        <a class="nav-link" href="{% url 'MemberMainPage' %}">Member</a>
      </li>
      {% endif %}
      <li class="nav-item">
        <a class="nav-link" href="#">Workshop</a>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Marketplace
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="{% url 'marketplace:MainMarketplace' %}">Browse Marketplace<span class="sr-only">(current)</span></a>
          <a class="dropdown-item" href="{% url 'marketplace:MyMarketplace' %}">My Marketplace</a>
        </div>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Profile
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="{% url 'ViewProfile' %}">View Profile<span class="sr-only">(current)</span></a>
          <a class="dropdown-item" href="{% url 'EditProfile' %}">Edit Profile</a>
        </div>
      </li>

    </ul>

    

    <a class="btn bg-light" href="{% url 'Logout' %}" style="margin-left: 30px;">
      <img class="bi bi-arrow-bar-right">LOGOUT</img>
    </a>
  </div>
</nav>
<br />
{% block content%}

<div class="container bg-light" style="position: relative;">
  <h2 style="text-align: center; padding: 20px;"for="exampleFormControlTextarea1" >{{group.Name}}</h2>
  <img src="../media/{{group.Media}}" class="card-img-top" alt="Responsive image" style="height: 250px;">
  <br/>
  <p style="padding-top: 5px;text-align: center;" value="{{ group.Username.Username }}">Created by: {{ group.Username.Username }}</p>
  <p style="padding-top: 5px;text-align: center;" value="{{ group.About }}">{{ group.About }}</p>
</div>
<br />

<div class="container" style="position: relative;">
  <div class="col-12">
    <a class="btn btn-primary" href="{% url 'group:AddGroupSharing' group.id %}" role="button">Add New Sharing</a>
    <a class="btn btn-info" href="{% url 'group:PL-Sharing' group.id %}" role="button">Share PlantLink Chart</a>
  </div>
  <br />
  <br />
  <div class="container">
    <div class="row">
        {% for chart in chartSharing reversed %}
        <div class="col-12 mb-4">
            <div class="card">
                <div class="card-body">
                    <div class="d-flex align-items-center">
                        <div class="user-image mr-3">
                            <img class="rounded-circle" src="../../media/{{ chart.Person_fk.Photo }}" style="width: 45px; height: 45px;">
                        </div>
                        <div class="title">
                            <span class="username">{{ chart.Person_fk.Username }}</span>
                        </div>
                    </div>
                    <div class="mt-3">
                        <h5 class="card-title">{{ chart.title }}</h5>
                        <p class="card-text">{{ chart.description }}</p>
                        <p></p>
                    </div>
                    <iframe src="{{ chart.link }}" width="100%" height="600px" frameborder="0"></iframe>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
  </div>  
</div>
{% endblock content %}

{% block body %}

    <div class="container">
        <div class="container" style="float: left; width: 70%;">
            <section style="background-color: #FFF5EE;">
                <div class="container py-5">
                <!-- <p style="text-align: center;">Group Details</p> -->
                {% for groupSharing in groupSharing reversed %}
                <div class="timeline-2 left-2">
                  
                  <div class="card" style="width: 650px;">                    
                    <table style="border: 0; margin-right:550px ;">

                {% if groupSharing.CreatorFK.Email == request.session.Email %}
                        <th>
                            <div class="user-image">
                              
                                <img class="rounded-circle" src="../media/{{ groupSharing.CreatorFK.Photo }}" style="width: 45px; height: 45px; margin: 10px;">
                              
                            </div>
                        </th>
                        <th>
                                <div class="title">
                                    <span class="username">{{ groupSharing.CreatorFK.Username }}</span>
                                </div>

                                
                        </th>
                        
                        
                    </table>
                    {%else%}
                    <th>
                      <div class="user-image">
                        
                          <img class="rounded-circle" src="../media/{{ groupSharing.CreatorFK.Photo }}" style="width: 45px; height: 45px; margin: 10px;">
                        
                      </div>
                  </th>
                  <th>
                          <div class="title">
                              <span class="username">{{ groupSharing.CreatorFK.Username }}</span>
                          </div>

                          
                  </th>
                  
                  
              </table>
                    {%endif%}
                    
                    
                    <img src="../media/{{groupSharing.GroupPhoto}}" class="card-img-top"
                       style="width: 550px;margin-left: 45px;">
                      
                      <table style="border: none;  margin-bottom: 0; padding-bottom: 0%; text-align: center;">
                        <th style="padding-bottom: 0; align-items: center;">
                            <h4 style="padding-top: 15px;" value="{{ groupSharing.GroupTitle }}">{{ groupSharing.GroupTitle }}</h4>
                            <p class="text-muted mb-4" style="font-size: x-small; padding: 0;" value="{{ groupSharing.Groupcreated_at }}"><i class="far fa-clock" aria-hidden="true"></i>{{ groupSharing.Groupcreated_at }}</p>
                        </th>
                        
                        <th>
                          
                        </th>
                      </table>
                      
                    
                    <div class="card-body">
                      <p class="mb-0" value="{{ groupSharing.GroupMessage }}" style="margin-left: 15px;">{{ groupSharing.GroupMessage }}</p>
                    </div>

                    
                    

                    {% for groupComment in groupComment %}
                    {% if groupComment.GrpFeedFK.id == groupSharing.id %}
                    <table style="border: 0; background-color: #F9E79F ; width: 550px;">
                      <tr>
                        <td style="text-align: left;"  colspan="2">
                          <div class="user-image">
                            
                              <img class="rounded-circle" src="../media/{{ groupComment.GrpCommenterFK.Photo }}"  style="width: 45px; height: 45px; margin: 10px;">
                            
                            <span class="username">{{ groupComment.GrpCommenterFK.Username }}</span>
                        </div>
                        </td>
                        
                      </tr>
                      
                      <tr>
                        <td  colspan="2" style="text-align: center;">
                         {% if groupComment.GrpPictures != "" %}
                    <img src="../media/{{groupComment.GrpPictures}}" class="card-img-top"
                       style="width: 100px;margin-left: 45px;">
                      {% endif %}
                        </td>
                        <td>

                        </td>
                      </tr>
                      <tr>
                        <td style="width: 500px;"  colspan="2">
                          <div class="card-body">
                            <p class="mb-0" value="{{ groupComment.GrpMessage }}">Message: {{ groupComment.GrpMessage }}</p>
                          </div>
                        </td>
                        
                      </tr>
                      
                  </table>
                  {% endif %}
                  {%endfor%}

                  <br>
                  <br>
                    <form action="{% url 'group:GroupSharingComment' groupSharing.id %}" method="POST" enctype="multipart/form-data" class="panel-activity__status" style="align-items: center;">
                      {% csrf_token %}
                      <textarea name="Message" placeholder="Share your comments here..." class="form-control"  style="width: 550px; margin-left: 30px; height: 50px;"></textarea>
                      
                      
                      <div class="panel-activity__status" style="width: 550px; margin-left: 30px;">
                        <div class="container row g-3">
                          <div class="col-md-6">
                            <label for="inputImage" class="form-label">Picture</label>
                            <input type="file" class="form-control" id="inputImage" name="Pictures" placeholder="Enter image" value="Enter image">
                            <br />
                          </div>
  
                          
                        </div>
                      </div>
                      
                     
                      <button type="submit" class="btn btn-sm btn-rounded btn-info" style="margin-left: 30px; width: 550px; margin-bottom: 10px;">
                        Post
                      </button>
                  </form>
                      
                  </div>
                  
                  
                </div>

                {% endfor %}
                </div>
            </section>
        </div>
        

        <div class="container" style="float: left; width: 30%;">
            <section style="background-color:#FFF5EE;">
                <div class="container py-5">
                <p style="text-align: center;">GROUP MEMBER LIST</p>
                <table style="border: 0; width: 450px;">
                    {% for person in groupMembership %}
                      <tr>
                        <td style="text-align: left;"  colspan="2">
                          <div class="user-image">
                            
                            <img class="rounded-circle" src="../media/{{person.GroupMember.Photo}}" alt="..." style="width: 45px; height: 45px; margin: 10px;">
                            <span class="username">{{ person.GroupMember.Username }}</span>

                            
                            
                            
                            <!-- {{userRequestList.from_user.Name}} -->
                        </div>
                        </td>
                        
                      </tr>
                      {%endfor%}
                      </table>
                </div>
            </section>
        </div>
        
    </div>

</body>

{% endblock body %}

 

</html>

